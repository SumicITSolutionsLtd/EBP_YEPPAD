# =============================================
# Entrepreneurship Booster Platform Uganda - USSD Service
# Environment Configuration Template
# =============================================
# INSTRUCTIONS:
# 1. Copy this file: cp .env.example .env
# 2. Fill in actual values (never commit .env to git)
# 3. Source before running: source .env

# =============================================
# APPLICATION SETTINGS
# =============================================
SPRING_PROFILES_ACTIVE=dev
SERVER_PORT=8004
APP_VERSION=1.0.0
DEPLOYMENT_REGION=uganda-central

# =============================================
# DATABASE CONFIGURATION (MySQL)
# =============================================
DB_HOST=localhost
DB_PORT=5432
DB_NAME=epb_db
DB_USERNAME=root
DB_PASSWORD=Douglas20!

# Connection Pool Settings
DB_MAX_POOL_SIZE=40
DB_MIN_IDLE=10
DB_CONNECTION_TIMEOUT=30000

# =============================================
# REDIS CONFIGURATION
# =============================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DATABASE=0
REDIS_TIMEOUT=3000

# =============================================
# SERVICE DISCOVERY (Eureka)
# =============================================
EUREKA_SERVER_URL=http://localhost:8761/eureka/
EUREKA_INSTANCE_PREFER_IP=true

# =============================================
# EXTERNAL SERVICE URLS
# =============================================
GATEWAY_URL=http://localhost:8088/api
AUTH_SERVICE_URL=http://localhost:8080
USER_SERVICE_URL=http://localhost:8082
OPPORTUNITY_SERVICE_URL=http://localhost:8083
NOTIFICATION_SERVICE_URL=http://localhost:8086

# =============================================
# AFRICA'S TALKING SMS CONFIGURATION
# =============================================
SMS_ENABLED=true
SMS_PROVIDER=africas_talking
SMS_API_KEY=your_africas_talking_api_key_here
SMS_USERNAME=sandbox
SMS_SENDER_ID=Entreprenuership-Booster-Platform
SMS_MAX_RETRY=3

# =============================================
# USSD SECURITY SETTINGS
# =============================================
# IP Whitelist (comma-separated)
USSD_ALLOWED_IPS=127.0.0.1,::1,196.216.167.0/24,196.216.168.0/24
USSD_IP_WHITELIST_ENABLED=false
USSD_MAX_REQUESTS_PER_MINUTE=100
USSD_MAX_REQUESTS_PER_HOUR=2000

# =============================================
# SESSION MANAGEMENT
# =============================================
USSD_SESSION_TIMEOUT_MINUTES=5
USSD_SESSION_CLEANUP_INTERVAL=2
USSD_MAX_CONCURRENT_SESSIONS=1000
USSD_SESSION_STORAGE_TYPE=memory  # or 'redis' for production

# =============================================
# MONITORING & METRICS
# =============================================
METRICS_ENABLED=true
PROMETHEUS_ENABLED=true
ACTUATOR_EXPOSE_ENDPOINTS=health,info,metrics,prometheus

# =============================================
# LOGGING CONFIGURATION
# =============================================
LOG_LEVEL_ROOT=INFO
LOG_LEVEL_APP=DEBUG
LOG_FILE=/var/log/entreprenuership-booster-platform/ussd-service.log
LOG_MAX_SIZE=100MB
LOG_MAX_HISTORY=60
LOG_TOTAL_SIZE_CAP=5GB

# =============================================
# CIRCUIT BREAKER SETTINGS
# =============================================
CIRCUIT_BREAKER_FAILURE_RATE_THRESHOLD=50
CIRCUIT_BREAKER_WAIT_DURATION=30s
CIRCUIT_BREAKER_SLIDING_WINDOW_SIZE=100

# =============================================
# FEATURE FLAGS
# =============================================
FEATURE_REGISTRATION_ENABLED=true
FEATURE_OPPORTUNITY_SEARCH_ENABLED=true
FEATURE_PROFILE_MANAGEMENT_ENABLED=true
FEATURE_SMS_NOTIFICATIONS_ENABLED=true

# =============================================
# DEBUG/DEVELOPMENT FLAGS (Disable in production)
# =============================================
DEBUG_ENABLE_TEST_ENDPOINTS=false
DEBUG_LOG_REQUEST_DETAILS=false
DEBUG_SKIP_SECURITY_VALIDATION=false
DEBUG_MOCK_EXTERNAL_SERVICES=false